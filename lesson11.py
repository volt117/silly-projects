# додати_два = lambda x: x + 2

# вартість_піци = lambda базова_ціна, інгредієнти: базова_ціна + інгредієнти * 20
# print(вартість_піци(100, 3))

from prettytable import PrettyTable

# Привітання користувача
print("Привіт! Це твій калькулятор витрат за тиждень.")

# Лямбда-функції для обчислення витрат
розрахувати_їжу = lambda ціна_однієї_страви, кількість_страв: ціна_однієї_страви * кількість_страв
розрахувати_транспорт = lambda ціна_проїзду, кількість_поїздок: ціна_проїзду * кількість_поїздок
розрахувати_розваги = lambda ціна_одного_квитка, кількість_відвідувань: ціна_одного_квитка * кількість_відвідувань
загальні_витрати = lambda витрати_їжа, витрати_транспорт, витрати_розваги: витрати_їжа + витрати_транспорт + витрати_розваги

# Список днів тижня
дні_тижня = ["Понеділок", "Вівторок", "Середа", "Четвер", "П'ятниця", "Субота", "Неділя"]

# Список для збереження витрат
результати_за_день = {}

# Функція для створення таблиці витрат
def створити_таблицю():
    таблиця = PrettyTable()
    таблиця.field_names = ["День", "Витрати на їжу (грн)", "Витрати на транспорт (грн)", "Витрати на розваги (грн)", "Загальна сума (грн)"]
    
    for день, дані in результати_за_день.items():
        таблиця.add_row([день, f"{дані['їжа']:.2f}", f"{дані['транспорт']:.2f}", f"{дані['розваги']:.2f}", f"{дані['загальна_сума']:.2f}"])
    return таблиця

# Функція для додавання витрат за день
def додати_витрати():
    доступні_дні = [день for день in дні_тижня if день not in результати_за_день]
    if not доступні_дні:
        print("\nВсі дні вже мають записані витрати!")
        return
    
    print("\nДоступні дні для додавання:")
    for день in доступні_дні:
        print(f"- {день}")
    вибір = input("Введи назву дня: ").strip()
    
    if вибір in доступні_дні:
        print(f"\nДодавання витрат для {вибір}:")
        ціна_страви = float(input("Введи середню ціну однієї страви (грн): "))
        кількість_страв = int(input("Скільки разів ти їв за день? "))
        ціна_проїзду = float(input("Введи вартість одного проїзду (грн): "))
        кількість_поїздок = int(input("Скільки разів ти користувався транспортом за день? "))
        ціна_розваги = float(input("Введи вартість одного квитка на розвагу (грн): "))
        кількість_розваг = int(input("Скільки разів ти відвідував розваги за день? "))
        
        витрати_на_їжу = розрахувати_їжу(ціна_страви, кількість_страв)
        витрати_на_транспорт = розрахувати_транспорт(ціна_проїзду, кількість_поїздок)
        витрати_на_розваги = розрахувати_розваги(ціна_розваги, кількість_розваг)
        денна_сума = загальні_витрати(витрати_на_їжу, витрати_на_транспорт, витрати_на_розваги)
        
        результати_за_день[вибір] = {
            "їжа": витрати_на_їжу,
            "транспорт": витрати_на_транспорт,
            "розваги": витрати_на_розваги,
            "загальна_сума": денна_сума
        }
        print(f"Витрати за {вибір} успішно додано!")
    else:
        print("Некоректна назва дня.")

# Функція для видалення витрат за день
def видалити_витрати():
    if not результати_за_день:
        print("\nНемає витрат для видалення.")
        return
    
    print("\nВибери день для видалення витрат:")
    for день in результати_за_день.keys():
        print(f"- {день}")
    
    вибір = input("Введи назву дня: ").strip()
    
    if вибір in результати_за_день:
        del результати_за_день[вибір]
        print(f"Витрати за {вибір} успішно видалено!")
    else:
        print("Некоректний вибір дня.")

# Функція для зміни витрат за день
def змінити_витрати():
    if not результати_за_день:
        print("\nНемає витрат для зміни.")
        return
    
    print("\nВибери день для зміни витрат:")
    for день in результати_за_день.keys():
        print(f"- {день}")
    
    вибір = input("Введи назву дня: ").strip()
    
    if вибір in результати_за_день:
        print(f"\nЗміна витрат для {вибір}:")
        ціна_страви = float(input("Введи середню ціну однієї страви (грн): "))
        кількість_страв = int(input("Скільки разів ти їв за день? "))
        ціна_проїзду = float(input("Введи вартість одного проїзду (грн): "))
        кількість_поїздок = int(input("Скільки разів ти користувався транспортом за день? "))
        ціна_розваги = float(input("Введи вартість одного квитка на розвагу (грн): "))
        кількість_розваг = int(input("Скільки разів ти відвідував розваги за день? "))
        
        витрати_на_їжу = розрахувати_їжу(ціна_страви, кількість_страв)
        витрати_на_транспорт = розрахувати_транспорт(ціна_проїзду, кількість_поїздок)
        витрати_на_розваги = розрахувати_розваги(ціна_розваги, кількість_розваг)
        денна_сума = загальні_витрати(витрати_на_їжу, витрати_на_транспорт, витрати_на_розваги)
        
        результати_за_день[вибір] = {
            "їжа": витрати_на_їжу,
            "транспорт": витрати_на_транспорт,
            "розваги": витрати_на_розваги,
            "загальна_сума": денна_сума
        }
        print(f"Витрати за {вибір} успішно змінено!")
    else:
        print("Некоректний вибір дня.")

# Функція для показу витрат у таблиці
def показати_всі_витрати():
    if not результати_за_день:
        print("\nНемає записаних витрат.")
        return
    
    print("\n=== Витрати за всі дні ===")
    таблиця = створити_таблицю()
    print(таблиця)

    # Функція для показу загальних витрат
def показати_загальні_витрати():
    if not результати_за_день:
        print("\nНемає записаних витрат.")
        return
    
    загальні_тижневі_витрати = sum(дані["загальна_сума"] for дані in результати_за_день.values())
    print("\n=== Загальні витрати за тиждень ===")
    print(f"Загальна сума витрат: {загальні_тижневі_витрати:.2f} грн")

# Основний цикл програми
while True:
    print("\n=== Меню ===")
    print("1. Додати витрати за день")
    print("2. Видалити витрати за день")
    print("3. Змінити витрати за день")
    print("4. Показати витрати за всі дні")
    print("5. Показати загальні витрати за тиждень")
    print("6. Вийти")
    
    вибір = input("Введи номер дії: ")
    if вибір == "1":
        додати_витрати()
    elif вибір == "2":
        видалити_витрати()
    elif вибір == "3":
        змінити_витрати()
    elif вибір == "4":
        показати_всі_витрати()
    elif вибір == "5":
        показати_загальні_витрати()
    elif вибір == "6":
        print("Дякую за використання програми! До зустрічі!")
        break
    else:
        print("Некоректний вибір. Спробуй ще раз.")